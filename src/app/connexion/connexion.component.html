<div class="mt-3 ms-4">
  <a mat-button routerLink="/home">
    <mat-icon>home</mat-icon>
    Accueil
  </a>
</div>
<div>
  <div class="d-flex justify-content-center mx-auto">
    <img src="./ressources/logo.png" width="30%" alt="logo"/>
  </div>

  <div class="d-flex justify-content-center align-items-center h-50 mx-auto mt-5" style="width: 40%;">
    <mat-card class="w-100 h-100 p-3">
      <mat-card-title>
        <h2 class="m-3">Login</h2>
      </mat-card-title>
      <mat-card-content>
        <mat-form-field class="w-100">
          <input matInput [formControl]="emailFormControl" placeholder="Email">
          @if (emailFormControl.hasError('email') && !emailFormControl.hasError('required')) {
            <mat-error>Please enter a valid email address</mat-error>
          }
          @if (emailFormControl.hasError('required')) {
            <mat-error>Email is <strong>required</strong></mat-error>
          }
        </mat-form-field>
        <br/>
        <mat-form-field class="w-100">
          <input [type]="hide() ? 'password' : 'text'"
                 [formControl]="passwordFormControl"
                 matInput
                 placeholder="Mot de passe"
                 (keyup)="$event.code === 'Enter'? authenticateUser():''"
          />
          <button
            mat-icon-button
            matSuffix
            (click)="clickEvent($event)"
            [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="hide()"
          >
            <mat-icon>{{hide() ? 'visibility_off' : 'visibility'}}</mat-icon>
          </button>
          @if (passwordFormControl.hasError('required')) {
            <mat-error>Password is <strong>required</strong></mat-error>
          }
        </mat-form-field>
      </mat-card-content>
      <mat-card-actions>
        <div class="d-flex justify-content-center w-100">
          <button class="w-100" mat-raised-button color="primary" (click)="authenticateUser()">Connexion</button>
        </div>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
<div class="error-message">
  {{erorMessage}}
</div>
